
       The retcode overlay to slapd(8) is useful to test the behavior of
       clients when server-generated erroneous and/or unusual responses
       occur, e.g. error codes, referrals, excessive response times and so
       on.
       The error responses are generated according to different strategies.
       In the first case, all operations targeted at a specific configurable
       subtree cause the object related to the request DN to be looked up
       and checked for return code data: a response code, plus an optional
       textual message, an optional configurable delay, an optional matched
       DN field, and, when the response code is "referral", a (list of)
       referral(s).
       Well-known response codes from standard track documents are provided
       in retcode.conf, which can be included after instantiating the
       overlay.
       In the second case, objects of classes inherited from the
       errAbsObject, like errObject or errAuxObject, when returned as
       intermediate responses of a search request, are changed into the
       response dictated by their content.
       A third mode causes objects to be looked up from the underlying
       database to discover if their class inherits from errABsObject; in
       that case, their content is used to compute the corresponding
       response.
       The behavior is disabled by using the manageDSAit control (RFC 3296);
       in that case, the resulting object, either present in the directory
       or dynamically generated by the overlay, or contained in the request,
       is handled as usual.
       The config directives that are specific to the retcode overlay must
       be prefixed by retcode-, to avoid conflicts with directives specific
       to the underlying database or to other stacked overlays.  The
       following specific directives can be used to configure the retcode
       overlay:
       retcode-parent <DN>
              This directive defines the parent DN where dynamically
              generated entries reside.  If not defined, the suffix of the
              database is used.
       retcode-item <RDN> <errCode> [op=<oplist>] [text=<message>]
              [ref=<referral>] [sleeptime=<sec>] [matched=<DN>]
              [unsolicited=<OID>[:<data>]]
              [flags=[pre|post-]disconnect[,...]]
              A dynamically generated entry, located below retcode-parent.
              The errCode is the number of the response code; it can be in
              any format supported by strtol(3).  The optional oplist is a
              list of operations that cause response code generation; if
              absent, all operations are affected.  The matched field is the
              matched DN that is returned along with the error, while the
              text field is an optional diagnostics message.  The ref field
              is only allowed for the referral response code.  The sleeptime
              field causes slapd(8) to sleep the specified number of seconds
              before proceeding with the operation.  The unsolicited field
              can be used to cause the return of an RFC 4511 unsolicited
              response message; if OID is not "0", an extended response is
              generated, with the optional data appended.  If flags contains
              disconnect, or pre-disconnect, slapd(8) disconnects abruptly,
              without notice; post-disconnect causes disconnection right
              after sending response as appropriate.
       retcode-indir
              Enables exploitation of in-directory stored errAbsObject.  May
              result in a lot of unnecessary overhead.
       retcode-sleep [-]<n>
              Defines a sleep time in seconds that is spent before actually
              handling any operation.  If negative, a random time between 0
              and the absolute value of the argument is used.
