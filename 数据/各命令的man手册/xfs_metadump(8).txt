
       xfs_metadump is a debugging tool that copies the metadata from an XFS
       filesystem to a file.  The source argument must be the pathname of
       the device or file containing the XFS filesystem and the target
       argument specifies the destination file name.  If target is -, then
       the output is sent to stdout. This allows the output to be redirected
       to another program such as a compression application.
       xfs_metadump may only be used to copy unmounted filesystems, or read-
       only mounted filesystems.
       xfs_metadump does not alter the source filesystem in any way. The
       target image is a contiguous (non-sparse) file containing all the
       filesystem's metadata and indexes to where the blocks were copied
       from.
       By default, xfs_metadump obfuscates most file (regular file,
       directory and symbolic link) names and extended attribute names to
       allow the dumps to be sent without revealing confidential
       information. Extended attribute values are zeroed and no data is
       copied. The only exceptions are file or attribute names that are 4 or
       less characters in length. Also file names that span extents (this
       can only occur with the mkfs.xfs(8) options where -n size > -b size)
       are not obfuscated. Names between 5 and 8 characters in length
       inclusively are partially obfuscated.
       xfs_metadump cannot obfuscate metadata in the filesystem log.  Log
       recovery of an obfuscated metadump image may expose clear-text
       metadata and/or cause filesystem corruption in the restored image.
       It is recommended that the source filesystem first be mounted and
       unmounted, if possible, to ensure that the log is clean.  A
       subsequent invocation of xfs_metadump will capture a clean log and
       obfuscate all metadata correctly.
       If a metadump must be produced from a filesystem with a dirty log, it
       is recommended that obfuscation be turned off with -o option, if
       metadata such as filenames is not considered sensitive.  If
       obfuscation is required on a metadump with a dirty log, please inform
       the recipient of the metadump image about this situation.
       xfs_metadump should not be used for any purposes other than for
       debugging and reporting filesystem problems. The most common usage
       scenario for this tool is when xfs_repair(8) fails to repair a
       filesystem and a metadump image can be sent for analysis.
       The file generated by xfs_metadump can be restored to filesystem
       image (minus the data) using the xfs_mdrestore(8) tool.
